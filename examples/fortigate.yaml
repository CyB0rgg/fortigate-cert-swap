# FortiGate Certificate Management Configuration
# This configuration file works with all operation modes (standard, cert-only, SSL inspection).
# CLI arguments take precedence over these settings.

# === FortiGate Connection Settings ===
host: fortigate.example.com           # FortiGate hostname or IP address
port: 8443                            # HTTPS management port (typically 443 or 8443)
token: "YOUR_API_TOKEN_HERE"          # REST API token (generate in System > Administrators)

# === Certificate Store Selection ===
# vdom: "root"                         # Specify VDOM name for VDOM store, omit for GLOBAL store

# === Security Settings ===
insecure: false                        # TLS certificate verification (default: false)
                                       # Set to true only if FortiGate uses self-signed certificates
                                       # The tool will guide you if TLS verification fails

# === Operation Modes ===
dry_run: false                         # Preview changes without applying them (default: false)
prune: true                            # Delete old certificates after successful operations (default: false)
                                       # Only deletes certificates not bound to any services

# === Automatic Features (v1.11.0) ===
# auto_intermediate_ca: true           # Automatically upload missing intermediate CA certificates
                                       # This is enabled by default - no need to specify unless disabling
                                       # Use --no-auto-intermediate-ca to disable if needed

# === Network Timeouts ===
timeout_connect: 10                    # Connection timeout in seconds (default: 5)
timeout_read: 60                       # Read timeout in seconds (default: 30)

# === Logging Configuration ===
log: "~/logs/fortigate-cert-swap.log"  # Log file path (optional)
log_level: "standard"                  # Log verbosity: "standard" or "debug" (default: standard)

# === Usage Examples ===
# Standard mode:
# fortigate-cert-swap --cert /path/to/fullchain.pem --key /path/to/private.key --config fortigate.yaml

# Certificate-only mode:
# fortigate-cert-swap --cert-only --cert /path/to/fullchain.pem --key /path/to/private.key --config fortigate.yaml

# SSL inspection certificate mode:
# fortigate-cert-swap --ssl-inspection-cert --cert /path/to/fullchain.pem --key /path/to/private.key --config fortigate.yaml
